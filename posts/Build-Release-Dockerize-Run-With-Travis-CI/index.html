<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Build, Release, Dockerize and Run with Github, Travis CI and DockerHub" /><meta name="author" content="Malike St Lewis" /><meta property="og:locale" content="en" /><meta name="description" content="If you’ve read my previous post, Configuration Management for Microservices, I created two microservices one in Golang and the other in Java. Using the two, I’ll want to show how we can use Travis CI for the Build, Release and Run phase." /><meta property="og:description" content="If you’ve read my previous post, Configuration Management for Microservices, I created two microservices one in Golang and the other in Java. Using the two, I’ll want to show how we can use Travis CI for the Build, Release and Run phase." /><link rel="canonical" href="/posts/Build-Release-Dockerize-Run-With-Travis-CI/" /><meta property="og:url" content="/posts/Build-Release-Dockerize-Run-With-Travis-CI/" /><meta property="og:site_name" content="Malike St" /><meta property="og:image" content="https://raw.githubusercontent.com/malike/malike-media/main/posts/ci-broken.png" /><meta property="og:image:height" content="500" /><meta property="og:image:width" content="800" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-09-11T00:00:00+02:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://raw.githubusercontent.com/malike/malike-media/main/posts/ci-broken.png" /><meta property="twitter:title" content="Build, Release, Dockerize and Run with Github, Travis CI and DockerHub" /><meta name="twitter:site" content="@malike_st" /><meta name="twitter:creator" content="@malike_st" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Malike St Lewis","url":"https://github.com/malike/"},"dateModified":"2018-09-11T00:00:00+02:00","datePublished":"2018-09-11T00:00:00+02:00","description":"If you’ve read my previous post, Configuration Management for Microservices, I created two microservices one in Golang and the other in Java. Using the two, I’ll want to show how we can use Travis CI for the Build, Release and Run phase.","headline":"Build, Release, Dockerize and Run with Github, Travis CI and DockerHub","image":{"width":800,"height":500,"url":"/posts/ci-broken.png","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"/posts/Build-Release-Dockerize-Run-With-Travis-CI/"},"url":"/posts/Build-Release-Dockerize-Run-With-Travis-CI/"}</script><title>Build, Release, Dockerize and Run with Github, Travis CI and DockerHub | Malike St</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Malike St"><meta name="application-name" content="Malike St"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://raw.githubusercontent.com/malike/malike-media/main/common/avatar.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Malike St</a></div><div class="site-subtitle font-italic">Tech & stuff</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/sre/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>SRE</span> </a><li class="nav-item"> <a href="/distributed/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>DISTRIBUTED SYSTEMS</span> </a><li class="nav-item"> <a href="/electronics/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ELECTRONICS</span> </a><li class="nav-item"> <a href="/oss/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>OS PROJECTS I STARTED</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/malike" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://gitlab.com/malike" aria-label="gitlab" target="_blank" rel="noopener"> <i class="fab fa-gitlab"></i> </a> <a href="https://twitter.com/malike_st" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['st.malike','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Build, Release, Dockerize and Run with Github, Travis CI and DockerHub</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Build, Release, Dockerize and Run with Github, Travis CI and DockerHub</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1536616800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Sep 11, 2018 </em> </span><div class="mt-3 mb-3"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 500'%3E%3C/svg%3E" data-src="https://raw.githubusercontent.com/malike/malike-media/main/posts/ci-broken.png" class="preview-img bg" alt="Preview Image" width="800" height="500" data-proofer-ignore></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/malike/">Malike St Lewis</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="848 words"> <em>4 min</em> read</span></div></div></div><div class="post-content"><p>If you’ve read my previous post, <a href="https://malike.github.io/Configuration-Management-For-Microservices-And-Distributed-Systems.html">Configuration Management for Microservices</a>, I created two microservices one in <code class="language-plaintext highlighter-rouge">Golang</code> and the other in <code class="language-plaintext highlighter-rouge">Java</code>. Using the two, I’ll want to show how we can use <a href="https://travis-ci.org/">Travis CI</a> for the <a href="https://12factor.net/build-release-run">Build, Release and Run</a> phase.</p><p>In a later article we’ll use our docker images with <a href="https://kubernetes.io/">Kubernetes</a>.</p><h3 id="1-building-docker-images-from-github-for-go-and-java-repos"><span class="mr-2">1. Building Docker Images From Github for Go and Java Repos</span><a href="#1-building-docker-images-from-github-for-go-and-java-repos" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>To build a docker image for a our source codes we’ll create <code class="language-plaintext highlighter-rouge">Dockerfile</code>. The <code class="language-plaintext highlighter-rouge">Dockerfile</code> is a set of instructions to build and properly describe a docker image. Here’s what some of the instructions mean :</p><h5 id="sample-dockerfile-for-java"><span class="mr-2">Sample <code class="language-plaintext highlighter-rouge"><span class="mr-2">Dockerfile</code> for Java</span><a href="#sample-dockerfile-for-java" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><div class="language-Dockerfile highlighter-rouge"><div class="code-header"> <span data-label-text="Dockerfile"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">FROM</span><span class="s"> openjdk:8</span>
<span class="k">VOLUME</span><span class="s"> /tmp</span>
<span class="k">ADD</span><span class="s"> target/config-server-1.0-SNAPSHOT.jar config-server.jar</span>
<span class="k">RUN </span>sh <span class="nt">-c</span> <span class="s1">'touch /config-server.jar'</span>
<span class="k">ENV</span><span class="s"> JAVA_OPTS="-Xms128m -Xmx256m"</span>
<span class="k">EXPOSE</span><span class="s"> 8888</span>
<span class="k">ENTRYPOINT</span><span class="s"> [ "sh", "-c", "java $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=docker -jar /config-server.jar" ]</span>
</pre></table></code></div></div><p>The <a href="https://github.com/malike/go-kafka-alert/blob/master/Dockerfile"><code class="language-plaintext highlighter-rouge">Go Dockerfile</code></a> is a multi-stage approach to build light weight images explained into details <a href="https://medium.com/@pierreprinetti/the-go-dockerfile-d5d43af9ee3c">here</a>.</p><p><strong>FROM</strong>: Image with its tag as build-base. This is mostly <a href="https://hub.docker.com/_/alpine/">alpine linux</a> because it’s light and allows debugging of containers. There are other options as well like <a href="https://hub.docker.com/_/scratch/">scratch</a>.</p><p><strong>RUN</strong>: Is used to execute a shell command-line within the target system.</p><p><strong>COPY</strong>: Used to copy files from the local file-system to target image.</p><p><strong>ADD</strong>: Used to also copy files like <strong>COPY</strong> but with addition <a href="https://docs.docker.com/engine/reference/builder/#add">features</a>.</p><p><strong>ENTRYPOINT</strong> : Entrypoint sets the command and parameters that will be executed first in target system when it starts.</p><p><strong>ENV</strong> : Used to define environment variables used in the target host.</p><p><strong>CMD</strong>: Pass arguments to the <strong>ENTRYPOINT</strong> in the target system.</p><p><em>You can check out the <a href="https://docs.docker.com/develop/develop-images/dockerfile_best-practices/">docker documentation</a> to read more on it and <a href="https://medium.com/@pierreprinetti/the-go-dockerfile-d5d43af9ee3c">this</a> on how to build build small size docker containers for <code class="language-plaintext highlighter-rouge">Go</code></em></p><h3 id="2-setting-up-our-ci-server--travis-ci"><span class="mr-2">2. Setting up our CI server : <a href="https://docs.travis-ci.com/user/getting-started/"><span class="mr-2">Travis CI</a>.</span><a href="#2-setting-up-our-ci-server--travis-ci" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><em>“Travis CI a hosted, distributed continuous integration service used to build and test software projects hosted at GitHub”</em></p><p>Like the <code class="language-plaintext highlighter-rouge">Dockerfile</code> is a set of instructions to build a docker image, <code class="language-plaintext highlighter-rouge">.travis.yml</code> also contains a set of instructions for Travis CI to build and test the source hosted on Github.</p><p>In our case we’ll use Travis CI to test and compile our source and then package a docker image that can easily be run. Travis CI doesn’t store the docker images so we need to push to a docker repository. This can be a private one or a public one. For this example we’ll use the public <a href="https://hub.docker.com/">DockerHub</a>.</p><p>To build and test our project,which uses maven, we’ll add this.</p><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="na">script</span><span class="pi">:</span> <span class="s">cd $SERVICE_DIR &amp;&amp; mvn clean verify</span>
</pre></table></code></div></div><p>The maven goal test is intentionally left our because Travis CI does that by <a href="https://blog.travis-ci.com/2017-03-30-deploy-maven-travis-ci-packagecloud/">default</a> once we specify java, I’m using the <code class="language-plaintext highlighter-rouge">script</code> because thats way let Travis CI building sub directories projects. This works because I’ve specified the sub directories as environment variables.</p><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="na">env</span><span class="pi">:</span>
  <span class="na">global</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">SERVICE_DIR=config-server</span>
  <span class="pi">-</span> <span class="s">SERVICE_DIR=message-summary</span>
</pre></table></code></div></div><p>After successfully building the source we’ll need to package it using the docker configuration, <code class="language-plaintext highlighter-rouge">Dockerfile</code>. But first we’ll have to enable Docker for Travis CI</p><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="na">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">docker</span>
</pre></table></code></div></div><p>I wrote a bash script to handle the building and the uploading of the images. It uses the known <a href="https://docs.docker.com/engine/reference/commandline/build/"><code class="language-plaintext highlighter-rouge">docker build</code></a>, <a href="https://docs.docker.com/engine/reference/commandline/tag/#description"><code class="language-plaintext highlighter-rouge">docker tag</code></a> and <a href="https://docs.docker.com/engine/reference/commandline/push/"><code class="language-plaintext highlighter-rouge">docker push</code></a> commands to complete this task.</p><p>First of Travis CI, would need access to upload the packaged images. Travis CI has a simple system for not storing passwords in plain text which requires installing a travis gem <code class="language-plaintext highlighter-rouge">sudo gem install travis</code>. Encrypt your passwords and add them to your travis config file by <code class="language-plaintext highlighter-rouge">cd</code>-ing into the project folder then <code class="language-plaintext highlighter-rouge">travis encrypt VARIABLE="secret-to-be-encrypted"</code>, confirm the repository name, it should return an encrypted text which you can add to your <code class="language-plaintext highlighter-rouge">.travis.yml</code></p><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="na">env</span><span class="pi">:</span>
  <span class="na">global</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">secure</span><span class="pi">:</span> <span class="s2">"</span><span class="s">encrypted-dockerhub-username-1234"</span>
  <span class="pi">-</span> <span class="na">secure</span><span class="pi">:</span> <span class="s2">"</span><span class="s">encrypted-dockerhub-password-1234"</span>
</pre></table></code></div></div><p><em>For more details on writing your <a href="https://docs.travis-ci.com/user/customizing-the-build/">travis configuration</a> to read more on it</em></p><p>OK, now that we have a Docker image that is built by Travis, how do we use it? Well, we want to push the image to a Docker Registry for storage. Users can then pull the image from the registry to the machine where they will run the image.</p><h5 id="complete-travisyml-would-look-like-this-for-a-java-application"><span class="mr-2">Complete <a href="https://github.com/malike/go-kafka-alert/blob/master/.travis.yml"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">.travis.yml</code></a> would look like this for a Java application</span><a href="#complete-travisyml-would-look-like-this-for-a-java-application" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="na">sudo</span><span class="pi">:</span> <span class="s">required</span>
<span class="na">language</span><span class="pi">:</span> <span class="s">java</span>
<span class="na">jdk</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">oraclejdk8</span>
<span class="na">before_script</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">mongo go_kafka_alert --eval 'db.createUser({user:"travis",pwd:"test",roles:["readWrite"]});'</span>  
<span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">mongodb</span>
<span class="pi">-</span> <span class="s">docker</span>
 
<span class="na">env</span><span class="pi">:</span>
  <span class="na">global</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">secure</span><span class="pi">:</span> <span class="s2">"</span><span class="s">encrypted-dockerhub-username-1234"</span>
  <span class="pi">-</span> <span class="na">secure</span><span class="pi">:</span> <span class="s2">"</span><span class="s">encrypted-dockerhub-password-1234"</span>
  <span class="pi">-</span> <span class="s">SERVICE_DIR=config-server</span>
  <span class="pi">-</span> <span class="s">SERVICE_DIR=message-summary</span>

<span class="na">before_install</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">chmod +x ./.travis/pushimage.sh</span>

<span class="na">script</span><span class="pi">:</span> <span class="s">cd $SERVICE_DIR &amp;&amp; mvn clean verify</span>

<span class="na">after_success</span><span class="pi">:</span> 
  <span class="pi">-</span> <span class="s">bash ../.travis/pushimage.sh config-server</span>
  <span class="pi">-</span> <span class="s">bash ../.travis/pushimage.sh message-summary</span>
</pre></table></code></div></div><h5 id="check-travisyml-for-the-travis-config-for-our-go-application"><span class="mr-2">Check <a href="https://github.com/malike/go-kafka-alert/blob/master/.travis.yml"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">.travis.yml</code></a> for the travis config for our Go application</span><a href="#check-travisyml-for-the-travis-config-for-our-go-application" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p>Summary so we successfully setup an automated process using Travis CI, <code class="language-plaintext highlighter-rouge">Dockerfile</code> configurations to build an image and then successfully uploaded to <a href="https://hub.docker.com/u/stmalike/dashboard/">DockerHub</a>. Although the title is <em>“Build, Release, Dockerize and Run with Github, Travis CI and DockerHub”</em> we’re yet to actually run our service. <br /> This would be continued in the next article with other things we can introduce in the pipeline to produce efficient results.</p><p><br /> <br /> <strong>REFERENCES</strong></p><p><a href="https://12factor.net/">https://12factor.net/</a></p><p><a href="https://medium.com/@pierreprinetti/the-go-dockerfile-d5d43af9ee3c">https://medium.com/@pierreprinetti/the-go-dockerfile-d5d43af9ee3c</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/devops/'>devops</a>, <a href='/categories/sre/'>sre</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/docker/" class="post-tag no-text-decoration" >docker</a> <a href="/tags/kubernetes/" class="post-tag no-text-decoration" >kubernetes</a> <a href="/tags/distributed/" class="post-tag no-text-decoration" >distributed</a> <a href="/tags/go/" class="post-tag no-text-decoration" >go</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Build%2C+Release%2C+Dockerize+and+Run+with+Github%2C+Travis+CI+and+DockerHub+-+Malike+St&url=%2Fposts%2FBuild-Release-Dockerize-Run-With-Travis-CI%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Build%2C+Release%2C+Dockerize+and+Run+with+Github%2C+Travis+CI+and+DockerHub+-+Malike+St&u=%2Fposts%2FBuild-Release-Dockerize-Run-With-Travis-CI%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2FBuild-Release-Dockerize-Run-With-Travis-CI%2F&text=Build%2C+Release%2C+Dockerize+and+Run+with+Github%2C+Travis+CI+and+DockerHub+-+Malike+St" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Predicting-Customer-Purchases-Beginners-Guide/">Predicting Customer Purchases: A Beginner's Guide to E-Commerce Data Science</a><li><a href="/posts/Obersevability-Stack-with-Grafana-Loki-And-Tempo/">Observability Stack with Grafana Loki Tempo and Prometheus</a><li><a href="/posts/Apache-Kafka-On-Kubernetes-Strimzi-Operator/">Apache Kafka on Kubernetes with Strimzi Operator</a><li><a href="/posts/Annotations+Spring=Awesome/">Java Annotations + Spring = Awesome</a><li><a href="/posts/Lambda-Architecture-RT/">Lambda Architecture With Kafka, ElasticSearch, Apache Storm and MongoDB</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/documentation/">documentation</a> <a class="post-tag" href="/tags/sample/">sample</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/distributed/">distributed</a> <a class="post-tag" href="/tags/elasticsearch/">elasticsearch</a> <a class="post-tag" href="/tags/microservice/">microservice</a> <a class="post-tag" href="/tags/go/">go</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/aws/">aws</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/To-Contain-Or-Not-To-Contain/"><div class="card-body"> <em class="small" data-ts="1536530400" data-df="ll" > Sep 10, 2018 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>To Contain Or Not To Contain</h3><div class="text-muted small"><p> So some of the known reasons why some people have talked to me about not adopting containers. So this my attempt to convince them based on the concerns raised and few use cases where I won’t sugges...</p></div></div></a></div><div class="card"> <a href="/posts/Cassandra-DSE-On-Kubernetes-With-Cass-Operator/"><div class="card-body"> <em class="small" data-ts="1644361200" data-df="ll" > Feb 9, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Taking DataStax Enterprise for a Spin on Kubernetes</h3><div class="text-muted small"><p> 1. Introduction DataStax Enterprise (DSE) version 6.8 a hybrid cloud, that is can run on-premises or across regions on the cloud to give all the capabilities of Apache Cassandra with enterprise to...</p></div></div></a></div><div class="card"> <a href="/posts/Custom-Operator-With-Operator-SDK/"><div class="card-body"> <em class="small" data-ts="1672959600" data-df="ll" > Jan 6, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Custom Kubernetes Operators in Golang with OperatorSDK and Kubebuilder</h3><div class="text-muted small"><p> Kubernetes Operators Kubernetes Operators are patterns that help us extend the behavior of the cluster. Operators enable us to view an application deployed on Kubernetes as one item. That is your ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/To-Contain-Or-Not-To-Contain/" class="btn btn-outline-primary" prompt="Older"><p>To Contain Or Not To Contain</p></a> <a href="/posts/K8s-101-And-Istio-Service-Mesh/" class="btn btn-outline-primary" prompt="Newer"><p>Beginning Kubernetes and Istio Service Mesh for Cloud Native/Distributed Systems</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/malike_st">Malike St</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/documentation/">documentation</a> <a class="post-tag" href="/tags/sample/">sample</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/distributed/">distributed</a> <a class="post-tag" href="/tags/elasticsearch/">elasticsearch</a> <a class="post-tag" href="/tags/microservice/">microservice</a> <a class="post-tag" href="/tags/go/">go</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/aws/">aws</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-66835539-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-66835539-1'); }); </script>
