<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Continuous Integration, continuous Deployment with AWS Using EKS, CodeBuild, CodePipeline, ECR and CloudFormation" /><meta name="author" content="Malike St Lewis" /><meta property="og:locale" content="en" /><meta name="description" content="Building up on our previous article, where a simple cloud native/ distributed system application was built to run on kubernetes using Travis CI, DockerHub locally. What if we move this infrastructure to the cloud, AWS for this instance. Using AWS tools to accomplish the same thing and deploy also test AWS EKS(AWS’s Kubernetes offering)." /><meta property="og:description" content="Building up on our previous article, where a simple cloud native/ distributed system application was built to run on kubernetes using Travis CI, DockerHub locally. What if we move this infrastructure to the cloud, AWS for this instance. Using AWS tools to accomplish the same thing and deploy also test AWS EKS(AWS’s Kubernetes offering)." /><link rel="canonical" href="/posts/CI-CD-AWS-Infrastructure-For-Kubernetes-Cluster-Using-CloudFormation/" /><meta property="og:url" content="/posts/CI-CD-AWS-Infrastructure-For-Kubernetes-Cluster-Using-CloudFormation/" /><meta property="og:site_name" content="Malike St" /><meta property="og:image" content="https://raw.githubusercontent.com/malike/malike-media/main/posts/n_1_sample_size.jpg" /><meta property="og:image:height" content="500" /><meta property="og:image:width" content="800" /><meta property="og:image:alt" content="aws eks." /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-02-01T00:00:00+01:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://raw.githubusercontent.com/malike/malike-media/main/posts/n_1_sample_size.jpg" /><meta name="twitter:image:alt" content="aws eks." /><meta property="twitter:title" content="Continuous Integration, continuous Deployment with AWS Using EKS, CodeBuild, CodePipeline, ECR and CloudFormation" /><meta name="twitter:site" content="@malike_st" /><meta name="twitter:creator" content="@malike_st" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Malike St Lewis","url":"https://github.com/malike/"},"dateModified":"2019-02-01T00:00:00+01:00","datePublished":"2019-02-01T00:00:00+01:00","description":"Building up on our previous article, where a simple cloud native/ distributed system application was built to run on kubernetes using Travis CI, DockerHub locally. What if we move this infrastructure to the cloud, AWS for this instance. Using AWS tools to accomplish the same thing and deploy also test AWS EKS(AWS’s Kubernetes offering).","headline":"Continuous Integration, continuous Deployment with AWS Using EKS, CodeBuild, CodePipeline, ECR and CloudFormation","image":{"width":800,"height":500,"alt":"aws eks.","url":"/posts/n_1_sample_size.jpg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"/posts/CI-CD-AWS-Infrastructure-For-Kubernetes-Cluster-Using-CloudFormation/"},"url":"/posts/CI-CD-AWS-Infrastructure-For-Kubernetes-Cluster-Using-CloudFormation/"}</script><title>Continuous Integration, continuous Deployment with AWS Using EKS, CodeBuild, CodePipeline, ECR and CloudFormation | Malike St</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Malike St"><meta name="application-name" content="Malike St"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://raw.githubusercontent.com/malike/malike-media/main/common/avatar.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Malike St</a></div><div class="site-subtitle font-italic">Tech & stuff</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/sre/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>SRE</span> </a><li class="nav-item"> <a href="/distributed/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>DISTRIBUTED SYSTEMS</span> </a><li class="nav-item"> <a href="/electronics/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ELECTRONICS</span> </a><li class="nav-item"> <a href="/oss/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>OS PROJECTS I STARTED</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/malike" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://gitlab.com/malike" aria-label="gitlab" target="_blank" rel="noopener"> <i class="fab fa-gitlab"></i> </a> <a href="https://twitter.com/malike_st" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['st.malike','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Continuous Integration, continuous Deployment with AWS Using EKS, CodeBuild, CodePipeline, ECR and CloudFormation</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Continuous Integration, continuous Deployment with AWS Using EKS, CodeBuild, CodePipeline, ECR and CloudFormation</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1548975600" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Feb 1, 2019 </em> </span><div class="mt-3 mb-3"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 500'%3E%3C/svg%3E" data-src="https://raw.githubusercontent.com/malike/malike-media/main/posts/n_1_sample_size.jpg" class="preview-img bg" alt="aws eks." width="800" height="500" data-proofer-ignore><figcaption class="pt-2 pb-2">aws eks.</figcaption></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/malike/">Malike St Lewis</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1154 words"> <em>6 min</em> read</span></div></div></div><div class="post-content"><p>Building up on our previous <a href="https://malike.github.io/K8s-101-And-Istio-Service-Mesh.html">article</a>, where a simple cloud native/ distributed system application was built to run on kubernetes using Travis CI, DockerHub locally. What if we move this infrastructure to the cloud, AWS for this instance. Using AWS tools to accomplish the same thing and deploy also test <strong>AWS EKS</strong>(AWS’s Kubernetes offering).</p><p>This will include setting up a CI/CD pipeline and setting up the infrastructure to host the application on staging and production.</p><p>This article will be treated in 2 parts:</p><p><em>a. Part One : CI/CD Pipeline</em></p><p><em>b. Part Two : Set up of infrastructure for deployment</em></p><p>But we before we delve in, let me talk about <strong>AWS CloudFormation</strong>.</p><h3 id="cloudformation"><span class="mr-2"><a href="https://aws.amazon.com/cloudformation/"><span class="mr-2">CloudFormation</a></span><a href="#cloudformation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><em>“AWS CloudFormation provides a common language for you to describe and provision all the infrastructure resources in your cloud environment”</em></p><p>This is termed as <em>Infrastructure as Code</em>, and can help us automate our CI/CD pipeline as well as provision of resources for each step of the process. A CloudFormation template can be created using the visual builder present in AWS using drag-and-drop, or coding in json or yml.</p><p>In short, what <strong>AWS CloudFormation</strong> offers us is a way to combine AWS resources to build our CI/CD pipeline and also AWS resources to manage the infrastructure to host the application.</p><p><strong><em>a). CI/CD Pipeline</em></strong></p><p><em>1. <a href="https://aws.amazon.com/codecommit/">AWS CodeCommit</a> :</em> This a fully-managed source service for git-based source repositories.</p><p><em>2. <a href="https://aws.amazon.com/codebuild/">AWS CodeBuild</a> :</em> This a fully-managed CI server. This includes compiling source code, running test and producing software packages.</p><p><em>3. <a href="https://aws.amazon.com/codepipeline/">AWS CodePipeline</a>:</em> This a fully-managed continous delivery service for automation of build,test,and deployment.</p><p><strong><em>b). Set up of infrastructure for deployment</em></strong></p><p><em>4. <a href="https://aws.amazon.com/ecr/">AWS ECR</a> :</em> This is a fully-managed Docker container registry that makes it easy for developers to store, manage, and deploy Docker container images</p><p><em>5. <a href="https://aws.amazon.com/vpc/">VPC</a> :</em> This is to provide a virtual cloud for our cluster.</p><p><em>6. <a href="https://aws.amazon.com/eks/">EKS Cluster</a> :</em> Amazon Elastic Container Service for Kubernetes. I’ll talk more about this in a later section.</p><p><em>7. <a href="https://aws.amazon.com/ec2/">EC2 Instances</a> :</em> EC2 nodes to run the Kubernetes pods</p><h3 id="part-one--cicd-pipeline"><span class="mr-2">Part One : CI/CD Pipeline</span><a href="#part-one--cicd-pipeline" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The CI/CD pipeline will use AWS resources to pick the source code from Github using <strong>AWS CodeCommit</strong> then using <strong>AWS CodeBuild</strong> build a docker image and then using <strong>AWS CodePipeline</strong> push the docker image to <strong>AWS ECR</strong>.</p><p>To create the CI/CD pipeline we can log into AWS and create it from the console UI</p><p><img data-src="https://raw.githubusercontent.com/malike/malike-media/main/posts/aws-pipeline-ui.png" alt="aws pipeline ui cluster" data-proofer-ignore></p><h6 id="-create-cicd-pipeline-on-aws-ui-"><center> create ci/cd pipeline on aws ui </center></h6><p>or just use a CloudFormation template to to join all the resources in our template.</p><p>The CloudFormation template configured to use AWS CodePipeline to will look <a href="https://github.com/malike/cloud-native-kubernetes/blob/master/cloudformation/deployment-pipeline.yml">like</a>. If you’re new to CloudFormation you can read more <a href="https://speakerdeck.com/ndemoor/aws-cloudformation-crash-course">here</a> or <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html">here</a>.</p><p>From the Pipeline template, you notice we have three sections, <strong>Parameters</strong>, <strong>Resources</strong> and <strong>Outputs</strong>.</p><p><strong>Parameters</strong> enable us to use custom values to your template each time you create or update a stack. For our template this would be details for AWS CodeCommit to pull the source code from Github.</p><p>From Github, Using this url <a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a> we can get the parameters AWS CodeCommit will use.</p><p><em>i. Github token name</em> <br /> <em>ii. Github username</em> <br /> <em>iii. Github repository name</em> <br /> <em>iv. Github source branch name</em> <br /></p><p><strong>Resources</strong> declares AWS resources we’ll like to include in the stack. The resources that enable us to build th CI/CD pipeline. It is in 3 parts, the first one been <em>CodePipeline</em>, this describes the pipeline from Github and using the infrastructure CloudFormation template to setup staging and production environment, the second <em>CodeBuild</em>, this also describes the resources used to build the source and the last part of resources describes all the <em>IAM</em> policies needed.</p><p><strong>Outputs</strong> which is not mandatory, is used to fetch values that can be reused in other templates.</p><p><img data-src="https://raw.githubusercontent.com/malike/malike-media/main/posts/aws-pipeline-ci-cd.png" alt="aws pipeline ci cd cluster" data-proofer-ignore></p><h6 id="-pipeline-aws-cloudformation-visual-"><center> pipeline aws cloudformation visual </center></h6><p>To configure AWS CodeBuild to build the source code we need to add a <code class="language-plaintext highlighter-rouge">buildspec.yml</code> to the root of the source. This is is just to help AWS CodeBuild on what it needs to do to build the source. There are 3 phases involved to build a source <code class="language-plaintext highlighter-rouge">pre_build</code>, <code class="language-plaintext highlighter-rouge">build</code> and <code class="language-plaintext highlighter-rouge">post_build</code>.</p><p>For our source the goal we want to achieve for each build phase can be summarized as :</p><p><em>pre_build :</em> This is the commands we need to run before build. In our case it does Log in to Amazon ECR and set the repository URI to your ECR image and add an image tag with the first seven characters of the Git commit ID of the source.</p><p><em>build :</em> This is commands to build the source. Build the Docker image and tag the image both as latest and with the Git commit ID</p><p><em>post_build :</em> Push the image to your ECR repository with both tags.</p><p>If you check the source repository I’ve added some scripts for to help our structure of the repository.</p><p>This being the last part of configuring AWS resources to build a CI/CD pipeline we can move on test. How to test this?, lets make slight changes to the source on Github and verify if there will be new images on ECR. After committing the changes as we can see :</p><p><img data-src="https://raw.githubusercontent.com/malike/malike-media/main/posts/ecr-new-images.png" alt="ecr new images " data-proofer-ignore></p><h6 id="-new-images-on-ecr"><center> new images on ECR</center></h6><p>This confirms our CI/CD pipeline works perfectly. But we’re not done. We still need to pick the images from <strong>AWS ECR</strong> and deploy to <strong>AWS EKS</strong>.</p><h3 id="part-two--infrastructure-set-up-and-deployment"><span class="mr-2">Part Two : Infrastructure Set Up and Deployment</span><a href="#part-two--infrastructure-set-up-and-deployment" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>We left of the previous part with docker images uploaded to ECR after source code was pulled from Github and built. All with our CI/CD pipeline. Next step, set up an EKS infrastructure to pick the docker images, set up the infrastructure on EKS to deploy the application. We’ll need a couple of resources to get this done and once again AWS CloudFormation comes to the rescue.</p><p>To deploy this on EKS we’ll need, a VPC, EKS and 3 EC2 instances. Since our source code is made up a <code class="language-plaintext highlighter-rouge">java</code>, <code class="language-plaintext highlighter-rouge">go</code> and <code class="language-plaintext highlighter-rouge">html</code> microservices.</p><p>Putting everything together we have the <a href="https://github.com/malike/cloud-native-kubernetes/blob/master/cloudformation/deployment-infrastructure.yml">infrastructure</a> CloudFormation template.</p><p>Putting the infrastructure together with the pipeline we can set up a <code class="language-plaintext highlighter-rouge">staging</code> environment and a <code class="language-plaintext highlighter-rouge">production</code> environment. But due to cost (:money_with_wings:) I’m only going to set up and staging environment.</p><h3 id="summary---continuous-integration-continuous-deployment"><span class="mr-2">Summary : Continuous Integration/ Continuous Deployment</span><a href="#summary---continuous-integration-continuous-deployment" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>To summarize what we’ve done so far :</p><p><strong>1.</strong> Use CloudFormation to set up infrastructure for CI/CD pipeline.</p><p><strong>2.</strong> Set up a Github repository, using AWS CodeCommit we can pick changes from the <code class="language-plaintext highlighter-rouge">master</code> branch Github.</p><p><strong>3.</strong> The Docker image is pushed to Amazon ECR after a successful build and/or test stage.</p><p><strong>4.</strong> CloudFormation sets up EKS clusters for staging.</p><p><strong>5.</strong> EKS updates the deployment pods using a rolling update strategy by picking the images from Amazon ECR.</p><p><strong>6.</strong> EKS updates the deployment pods using a rolling update strategy by picking the images from Amazon ECR automatically. <em>(Technically this wasn’t done, due to cost )</em></p><p>Hopefully you understand how to use strictly AWS resources to build CI/CD pipeline as well manage the infrastructure for such a deployment.</p><blockquote><p>Source code available on <a href="https://github.com/malike/cloud-native-kubernetes">Github</a>.</p></blockquote><h3 id="references"><span class="mr-2">References</span><a href="#references" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://aws.amazon.com/blogs/compute/continuous-deployment-to-amazon-ecs-using-aws-codepipeline-aws-codebuild-amazon-ecr-and-aws-cloudformation/">https://aws.amazon.com/blogs/compute/continuous-deployment-to-amazon-ecs-using-aws-codepipeline-aws-codebuild-amazon-ecr-and-aws-cloudformation/</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/devops/'>devops</a>, <a href='/categories/sre/'>sre</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/distributed/" class="post-tag no-text-decoration" >distributed</a> <a href="/tags/codepipeline/" class="post-tag no-text-decoration" >codepipeline</a> <a href="/tags/codedeploy/" class="post-tag no-text-decoration" >codedeploy</a> <a href="/tags/codecommit/" class="post-tag no-text-decoration" >codecommit</a> <a href="/tags/codebuild/" class="post-tag no-text-decoration" >codebuild</a> <a href="/tags/cloudformation/" class="post-tag no-text-decoration" >cloudformation</a> <a href="/tags/microservice/" class="post-tag no-text-decoration" >microservice</a> <a href="/tags/k8s/" class="post-tag no-text-decoration" >k8s</a> <a href="/tags/aws/" class="post-tag no-text-decoration" >aws</a> <a href="/tags/eks/" class="post-tag no-text-decoration" >eks</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Continuous+Integration%2C+continuous+Deployment+with+AWS+Using+EKS%2C+CodeBuild%2C+CodePipeline%2C+ECR+and+CloudFormation+-+Malike+St&url=%2Fposts%2FCI-CD-AWS-Infrastructure-For-Kubernetes-Cluster-Using-CloudFormation%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Continuous+Integration%2C+continuous+Deployment+with+AWS+Using+EKS%2C+CodeBuild%2C+CodePipeline%2C+ECR+and+CloudFormation+-+Malike+St&u=%2Fposts%2FCI-CD-AWS-Infrastructure-For-Kubernetes-Cluster-Using-CloudFormation%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2FCI-CD-AWS-Infrastructure-For-Kubernetes-Cluster-Using-CloudFormation%2F&text=Continuous+Integration%2C+continuous+Deployment+with+AWS+Using+EKS%2C+CodeBuild%2C+CodePipeline%2C+ECR+and+CloudFormation+-+Malike+St" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Predicting-Customer-Purchases-Beginners-Guide/">Predicting Customer Purchases: A Beginner's Guide to E-Commerce Data Science</a><li><a href="/posts/Obersevability-Stack-with-Grafana-Loki-And-Tempo/">Observability Stack with Grafana Loki Tempo and Prometheus</a><li><a href="/posts/Apache-Kafka-On-Kubernetes-Strimzi-Operator/">Apache Kafka on Kubernetes with Strimzi Operator</a><li><a href="/posts/Annotations+Spring=Awesome/">Java Annotations + Spring = Awesome</a><li><a href="/posts/Lambda-Architecture-RT/">Lambda Architecture With Kafka, ElasticSearch, Apache Storm and MongoDB</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/documentation/">documentation</a> <a class="post-tag" href="/tags/sample/">sample</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/distributed/">distributed</a> <a class="post-tag" href="/tags/elasticsearch/">elasticsearch</a> <a class="post-tag" href="/tags/microservice/">microservice</a> <a class="post-tag" href="/tags/go/">go</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/aws/">aws</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Distributed-Tracing-With-Spring-Cloud-Sleuth-And-Opencensus/"><div class="card-body"> <em class="small" data-ts="1523224800" data-df="ll" > Apr 9, 2018 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Distributed Tracing with Spring Cloud Sleuth and Opencensus</h3><div class="text-muted small"><p> 1. What’s Distributed Tracing? Assume you’ve designed your application using a microservice architecture and for a feature like signup you have: a. service that creates the user in the database,...</p></div></div></a></div><div class="card"> <a href="/posts/Configuration-Management-For-Microservices-And-Distributed-Systems/"><div class="card-body"> <em class="small" data-ts="1527890400" data-df="ll" > Jun 2, 2018 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Configuration Management for Microservices</h3><div class="text-muted small"><p> Centralized configuration management is one of the major requirements in a microservice system. Although one of the major proponents of a microservice system is decentralized services, certain part...</p></div></div></a></div><div class="card"> <a href="/posts/ChatOps-Slack-AWS-Integration/"><div class="card-body"> <em class="small" data-ts="1557612000" data-df="ll" > May 12, 2019 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ChatOps : Building A Custom Slackbot</h3><div class="text-muted small"><p> ChatOps “ChatOps is a new operational paradigm - work that is already happening in the background today is brought into a common chatroom. By doing this, you are unifying the communication about w...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Tracing-Spring-Boot-Hazelcast-MongoDB/" class="btn btn-outline-primary" prompt="Older"><p>Tracing Spring Boot Hazelcast and MongoDB</p></a> <a href="/posts/Using-Terraform-On-GCP-AWS-And-Physical-Server/" class="btn btn-outline-primary" prompt="Newer"><p>Using Terraform on GCP, AWS and Physical Server</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/malike_st">Malike St</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/documentation/">documentation</a> <a class="post-tag" href="/tags/sample/">sample</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/distributed/">distributed</a> <a class="post-tag" href="/tags/elasticsearch/">elasticsearch</a> <a class="post-tag" href="/tags/microservice/">microservice</a> <a class="post-tag" href="/tags/go/">go</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/aws/">aws</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-66835539-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-66835539-1'); }); </script>
