<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Observability Stack with Grafana Loki Tempo and Prometheus" /><meta name="author" content="Malike St Lewis" /><meta property="og:locale" content="en" /><meta name="description" content="Observability" /><meta property="og:description" content="Observability" /><link rel="canonical" href="/posts/Obersevability-Stack-with-Grafana-Loki-And-Tempo/" /><meta property="og:url" content="/posts/Obersevability-Stack-with-Grafana-Loki-And-Tempo/" /><meta property="og:site_name" content="Malike St" /><meta property="og:image" content="https://raw.githubusercontent.com/malike/malike-media/main/posts/social-media-monitoring-cartoon.jpg" /><meta property="og:image:height" content="500" /><meta property="og:image:width" content="800" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-04-20T00:00:00+02:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://raw.githubusercontent.com/malike/malike-media/main/posts/social-media-monitoring-cartoon.jpg" /><meta property="twitter:title" content="Observability Stack with Grafana Loki Tempo and Prometheus" /><meta name="twitter:site" content="@malike_st" /><meta name="twitter:creator" content="@malike_st" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Malike St Lewis","url":"https://github.com/malike/"},"dateModified":"2024-02-17T16:30:52+01:00","datePublished":"2022-04-20T00:00:00+02:00","description":"Observability","headline":"Observability Stack with Grafana Loki Tempo and Prometheus","image":{"width":800,"height":500,"url":"/posts/social-media-monitoring-cartoon.jpg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"/posts/Obersevability-Stack-with-Grafana-Loki-And-Tempo/"},"url":"/posts/Obersevability-Stack-with-Grafana-Loki-And-Tempo/"}</script><title>Observability Stack with Grafana Loki Tempo and Prometheus | Malike St</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Malike St"><meta name="application-name" content="Malike St"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://raw.githubusercontent.com/malike/malike-media/main/common/avatar.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Malike St</a></div><div class="site-subtitle font-italic">Tech & stuff</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/sre/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>SRE</span> </a><li class="nav-item"> <a href="/distributed/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>DISTRIBUTED SYSTEMS</span> </a><li class="nav-item"> <a href="/electronics/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ELECTRONICS</span> </a><li class="nav-item"> <a href="/oss/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>OS PROJECTS I STARTED</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/malike" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://gitlab.com/malike" aria-label="gitlab" target="_blank" rel="noopener"> <i class="fab fa-gitlab"></i> </a> <a href="https://twitter.com/malike_st" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['st.malike','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Observability Stack with Grafana Loki Tempo and Prometheus</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Observability Stack with Grafana Loki Tempo and Prometheus</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1650405600" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Apr 20, 2022 </em> </span> <span> Updated <em class="" data-ts="1708183852" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Feb 17, 2024 </em> </span><div class="mt-3 mb-3"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 500'%3E%3C/svg%3E" data-src="https://raw.githubusercontent.com/malike/malike-media/main/posts/social-media-monitoring-cartoon.jpg" class="preview-img bg" alt="Preview Image" width="800" height="500" data-proofer-ignore></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/malike/">Malike St Lewis</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="902 words"> <em>5 min</em> read</span></div></div></div><div class="post-content"><h1 id="observability">Observability</h1><p>Observability is tooling or a technical solution that allows teams to actively debug their system. Observability is based on exploring properties and patterns not defined in advance. <a href="https://cloud.google.com/architecture/devops/devops-measurement-monitoring-and-observability">This</a> definitaion somewhat summarizes what Observability means.</p><p>For your software system to be observable, the telemetry collected and how its process helps diagnose and investigate better.</p><p>Observability is a close cousin of monitoring, but it’s actually different. Monitoring can be considered as a subset of observability. Whereas monitoring focuses on predefined metrics, logs and traces, observability focuses on the predefined and the undefined. Of course, because one can not tell what will need to be debugged tomorrow. I am guessing, otherwise it will probably be fixed today.</p><p>There are three main telemetry types considered to build observability.</p><p>i) <em>Metric</em>: Measurements of a attributes of a resource or system.</p><p>ii) <em>Logs</em>: Automatically generated timestamped records of various types of events. They could either be structured as json or unstructured.</p><p>iii) <em>Traces</em>: Traces are designed to track the way lifecycle or of an event or request with application or infrastructure components. I wrote about it <a href="../Distributed-Tracing-With-Spring-Cloud-Sleuth-And-Opencensus/">here</a></p><p>There are so many tools to measure and record logs, traces or metrics. However, the best observability system should not treat these telemetry types as independent. Since most of them are related in one way or the other. For example entries in a log file could be related to a traceId in the distributed system which could affect one or two metric attributes of a resource.</p><p>In this post, I will show how we can build an observability stack that does not treat the telemetry types as independent systems.</p><h1 id="building-the-stack">Building the Stack</h1><p>As already mentioned, with each telemetry type we will us a different tool.</p><p>i) <em>Metric</em>: <a href="https://prometheus.io/">Prometheus</a></p><p>ii) <em>Logs</em>: <a href="https://grafana.com/oss/loki/">Loki</a></p><p>iii) <em>Traces</em>: <a href="https://grafana.com/oss/tempo/">Tempo</a></p><p>And then using Grafana bring all of them together. The source code canbe found <a href="https://github.com/malike/observability-stack">here</a>. I have also packaged everything using FluxCD, which can also run on minikube so you should be able to test.</p><ol><li>To get started, first clone the repo and <em>cd</em> into it.<li>Run <code class="language-plaintext highlighter-rouge">make install-flux</code>, which should install FluxCD.<li>Once FluxCD is installed we can proceed and install the stack by running <code class="language-plaintext highlighter-rouge">make install-all</code> This will first create a namespace and then install: i. prometheus-grafana ii. tempo iii. loki</ol><p>An important part to notice is the helm values for the prometheus-grafana installation.</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="na">grafana</span><span class="pi">:</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">adminPassword</span><span class="pi">:</span> <span class="s">password</span>

  <span class="na">additionalDataSources</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Loki</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">loki</span>
      <span class="na">uid</span><span class="pi">:</span> <span class="s">loki</span>
      <span class="na">url</span><span class="pi">:</span> <span class="s">http://loki.observability-system.svc.cluster.local:3100</span>
      <span class="na">access</span><span class="pi">:</span> <span class="s">proxy</span>
      <span class="na">editable</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">jsonData</span><span class="pi">:</span>
        <span class="na">derivedFields</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">datasourceUid</span><span class="pi">:</span> <span class="s">tempo</span>
            <span class="na">matcherRegex</span><span class="pi">:</span> <span class="s">((\d+|[a-z]+){5}(\d+|[a-z]+){5}(\d+|[a-z]+){4})</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">TraceID</span>
            <span class="na">url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">$${__value.raw}"</span>
      <span class="na">version</span><span class="pi">:</span> <span class="m">1</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Tempo</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">tempo</span>
      <span class="na">uid</span><span class="pi">:</span> <span class="s">tempo</span>
      <span class="na">url</span><span class="pi">:</span> <span class="s">http://tempo.observability-system.svc.cluster.local:3100</span>
      <span class="na">access</span><span class="pi">:</span> <span class="s">proxy</span>
      <span class="na">editable</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">version</span><span class="pi">:</span> <span class="m">1</span>
</pre></table></code></div></div><p>The default value for the <code class="language-plaintext highlighter-rouge">kube-prometheus-stack</code> is to have prometheus enabled and set as the default datasource, so we don’t need to patch that value.</p><p>Secondly, we enabled Grafana using <code class="language-plaintext highlighter-rouge">grafana.enabled: true</code> and se the default password as <code class="language-plaintext highlighter-rouge">p@ssword</code></p><p>Thirdly, we configured Loki, which is responsible for logs, as an additional datasource for Grafana and also specifying the url as <code class="language-plaintext highlighter-rouge">http://loki.observability-system.svc.cluster.local:3100</code> because thats where our loki service runs from. We also have to extract TraceID from the logs using the regex <code class="language-plaintext highlighter-rouge">((\d+|[a-z]+){5}(\d+|[a-z]+){5}(\d+|[a-z]+){4})</code> The <code class="language-plaintext highlighter-rouge">datasourceUid: tempo</code> configuration allows us to link it to Tempo, that is if we can extract a TraceID base on the regex. Loki also has promtail automatically enabled because its default value is set to true in the helm chart, <code class="language-plaintext highlighter-rouge">loki-stack</code>. Promtail sets up a deamonset to allow loki access the logs.</p><p>Now, that we have the visual aspect(Grafana), metrics (Prometheus), logs (Loki) covered, we need to configure tempo for out traces. Which is basically the service <code class="language-plaintext highlighter-rouge">http://tempo.observability-system.svc.cluster.local:3100</code>.</p><p>Putting everything together, our set up should be running succesfully on minikube like below:</p><p>Now that everything is running, we need to set up a sample app to use the Observability stack. That is where the <a href="https://github.com/jaegertracing/jaeger/tree/main/examples/hotrod">hotrod</a> app by jaegar comes in.</p><p><img data-src="https://raw.githubusercontent.com/malike/malike-media/main/posts/observability-stack/deployed-stack.png" alt="deployed" data-proofer-ignore></p><ol><li>Run <code class="language-plaintext highlighter-rouge">make deploy-sample-app</code> to set up hotrod. It deployment manifest looks at this, and instead of using Jaeger for Distributed Tracing, it rather uses Tempo. <code class="language-plaintext highlighter-rouge">tempo.observability-system</code></ol><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre><td class="rouge-code"><pre><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">hotrod</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">hotrod</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">hotrod</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">hotrod</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">args</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">all</span>
          <span class="na">env</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">JAEGER_AGENT_HOST</span>
              <span class="na">value</span><span class="pi">:</span> <span class="s">tempo.observability-system</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">JAEGER_AGENT_PORT</span>
              <span class="na">value</span><span class="pi">:</span> <span class="s1">'</span><span class="s">6831'</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">JAEGER_SAMPLER_TYPE</span>
              <span class="na">value</span><span class="pi">:</span> <span class="s">const</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">JAEGER_SAMPLER_PARAM</span>
              <span class="na">value</span><span class="pi">:</span> <span class="s1">'</span><span class="s">1'</span>
          <span class="na">image</span><span class="pi">:</span> <span class="s">jaegertracing/example-hotrod:latest</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">hotrod</span>
          <span class="na">ports</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">8080</span>
      <span class="na">restartPolicy</span><span class="pi">:</span> <span class="s">Always</span>
</pre></table></code></div></div><p>This works out of the box. We can confirm this by generating random events on the hotrod service and see how the observability stack reacts to it.</p><p><img data-src="https://raw.githubusercontent.com/malike/malike-media/main/posts/observability-stack/hotrod-app.png" alt="hotrod-deployed" data-proofer-ignore></p><p>We can also see the link between logs in Loki and using the traceID see how it relates to traces in Tempo.</p><p><img data-src="https://raw.githubusercontent.com/malike/malike-media/main/posts/observability-stack/grafana-ds.png" alt="grafana-ds" data-proofer-ignore></p><p><img data-src="https://raw.githubusercontent.com/malike/malike-media/main/posts/observability-stack/grafana-loki-tempo.png" alt="deployed" data-proofer-ignore></p><p>And we can also switch to prometheus to see metrics for our hotrod sample app.</p><h1 id="conclusion">Conclusion</h1><p>To summarize everything,</p><p>i. Observability is important. <br /> ii. Its importance to not treat the telemetry types as silos as they may be related in one way or the other.<br /> iii. How to build a simple observability stack.<br /> iv. How to use Tempo for Distributed Tracing.<br /> v. Using Loki and promtail for logs.<br /></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/devops/'>devops</a>, <a href='/categories/sre/'>sre</a>, <a href='/categories/distributed/'>distributed</a>, <a href='/categories/observability/'>observability</a>, <a href='/categories/monitoring/'>monitoring</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/kubernetes/" class="post-tag no-text-decoration" >kubernetes</a> <a href="/tags/grafana/" class="post-tag no-text-decoration" >grafana</a> <a href="/tags/loki/" class="post-tag no-text-decoration" >loki</a> <a href="/tags/tempo/" class="post-tag no-text-decoration" >tempo</a> <a href="/tags/prometheus/" class="post-tag no-text-decoration" >prometheus</a> <a href="/tags/monitoring/" class="post-tag no-text-decoration" >monitoring</a> <a href="/tags/observability/" class="post-tag no-text-decoration" >observability</a> <a href="/tags/slo/" class="post-tag no-text-decoration" >slo</a> <a href="/tags/sla/" class="post-tag no-text-decoration" >sla</a> <a href="/tags/sli/" class="post-tag no-text-decoration" >sli</a> <a href="/tags/metrics/" class="post-tag no-text-decoration" >metrics</a> <a href="/tags/traces/" class="post-tag no-text-decoration" >traces</a> <a href="/tags/logs/" class="post-tag no-text-decoration" >logs</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Observability+Stack+with+Grafana+Loki+Tempo+and+Prometheus+-+Malike+St&url=%2Fposts%2FObersevability-Stack-with-Grafana-Loki-And-Tempo%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Observability+Stack+with+Grafana+Loki+Tempo+and+Prometheus+-+Malike+St&u=%2Fposts%2FObersevability-Stack-with-Grafana-Loki-And-Tempo%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2FObersevability-Stack-with-Grafana-Loki-And-Tempo%2F&text=Observability+Stack+with+Grafana+Loki+Tempo+and+Prometheus+-+Malike+St" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Predicting-Customer-Purchases-Beginners-Guide/">Predicting Customer Purchases: A Beginner's Guide to E-Commerce Data Science</a><li><a href="/posts/Obersevability-Stack-with-Grafana-Loki-And-Tempo/">Observability Stack with Grafana Loki Tempo and Prometheus</a><li><a href="/posts/Apache-Kafka-On-Kubernetes-Strimzi-Operator/">Apache Kafka on Kubernetes with Strimzi Operator</a><li><a href="/posts/Annotations+Spring=Awesome/">Java Annotations + Spring = Awesome</a><li><a href="/posts/Lambda-Architecture-RT/">Lambda Architecture With Kafka, ElasticSearch, Apache Storm and MongoDB</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/documentation/">documentation</a> <a class="post-tag" href="/tags/sample/">sample</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/distributed/">distributed</a> <a class="post-tag" href="/tags/elasticsearch/">elasticsearch</a> <a class="post-tag" href="/tags/microservice/">microservice</a> <a class="post-tag" href="/tags/go/">go</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/aws/">aws</a></div></div></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Cassandra-DSE-On-Kubernetes-With-Cass-Operator/"><div class="card-body"> <em class="small" data-ts="1644361200" data-df="ll" > Feb 9, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Taking DataStax Enterprise for a Spin on Kubernetes</h3><div class="text-muted small"><p> 1. Introduction DataStax Enterprise (DSE) version 6.8 a hybrid cloud, that is can run on-premises or across regions on the cloud to give all the capabilities of Apache Cassandra with enterprise to...</p></div></div></a></div><div class="card"> <a href="/posts/Apache-Kafka-On-Kubernetes-Strimzi-Operator/"><div class="card-body"> <em class="small" data-ts="1646434800" data-df="ll" > Mar 5, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Apache Kafka on Kubernetes with Strimzi Operator</h3><div class="text-muted small"><p> Strimzi is a kubernetes operator that enables a way to run an Apache Kafka cluster on Kubernetes in various deployment configurations with simple configurations. Meaning, we easily manage the lifec...</p></div></div></a></div><div class="card"> <a href="/posts/K8s-101-And-Istio-Service-Mesh/"><div class="card-body"> <em class="small" data-ts="1539208800" data-df="ll" > Oct 11, 2018 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Beginning Kubernetes and Istio Service Mesh for Cloud Native/Distributed Systems</h3><div class="text-muted small"><p> 1. Kubernetes [K8S] The Processes factor of 12 factors which means having stateless services, that can be easily scaled by deploying multiple instances of the same service. Deploying and managemen...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Apache-Kafka-On-Kubernetes-Strimzi-Operator/" class="btn btn-outline-primary" prompt="Older"><p>Apache Kafka on Kubernetes with Strimzi Operator</p></a> <a href="/posts/Custom-Operator-With-Operator-SDK/" class="btn btn-outline-primary" prompt="Newer"><p>Custom Kubernetes Operators in Golang with OperatorSDK and Kubebuilder</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/malike_st">Malike St</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/documentation/">documentation</a> <a class="post-tag" href="/tags/sample/">sample</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/distributed/">distributed</a> <a class="post-tag" href="/tags/elasticsearch/">elasticsearch</a> <a class="post-tag" href="/tags/microservice/">microservice</a> <a class="post-tag" href="/tags/go/">go</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/aws/">aws</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-66835539-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-66835539-1'); }); </script>
